!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){/*!
 gifken v0.1.0
 Copyright (c) 2013-2015 aaharu
 This software is released under the MIT License.
 https://raw.github.com/aaharu/gifken/master/LICENSE

 This product includes following software:
 * jsgif
 - Copyright (c) 2011 Shachaf Ben-Kiki
 - https://github.com/shachaf/jsgif
 - https://raw.github.com/shachaf/jsgif/master/LICENSE
 * GifWriter.js
 - Copyright (c) 2013 NOBUOKA Yu
 - https://github.com/nobuoka/GifWriter.js
 - https://raw.github.com/nobuoka/GifWriter.js/master/LICENSE.txt
 */
"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./gifken"),g=function(){function a(){d(this,a)}return e(a,null,[{key:"writeToBlob",/**
         * Convert Gif to Blob.
         *
         * @static
         * @method writeToBlob
         * @param {Uint8Array[]} bytes
         * @return {Blob} BLOB
         **/
value:function(a){return new Blob(a,{type:"image/gif"})}},{key:"writeToDataUrl",value:function(a){var b="";return a.forEach(function(a){for(var c=[],d=0,e=a.byteLength;e>d;++d)c.push(a[d]);b+=String.fromCharCode.apply(null,c)}),"data:image/gif;base64,"+btoa(b)}}]),a}();c.GifPresenter=g,(window||self).gifken={Gif:f.Gif,GifFrame:f.GifFrame,GifColor:f.GifColor,GifParser:f.GifParser,GifVersion:f.GifVersion,GifPresenter:g}},{"./gifken":2}],2:[function(a,b,c){/*!
 gifken v0.1.0
 Copyright (c) 2013-2015 aaharu
 This software is released under the MIT License.
 https://raw.github.com/aaharu/gifken/master/LICENSE

 This product includes following software:
 * jsgif
 - Copyright (c) 2011 Shachaf Ben-Kiki
 - https://github.com/shachaf/jsgif
 - https://raw.github.com/shachaf/jsgif/master/LICENSE
 * GifWriter.js
 - Copyright (c) 2013 NOBUOKA Yu
 - https://github.com/nobuoka/GifWriter.js
 - https://raw.github.com/nobuoka/GifWriter.js/master/LICENSE.txt
 */
"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){function c(){d=i+1,e=b+1,f=Object.create(null)}
// `numBits` is LZW-initial code size, which indicates how many bits are needed
// to represents actual code.
var d,e,f,g=new m,h=1<<b,i=h+1;c(),g.push(h,e);for(var j="",k=0,l=a.length;l>k;++k){var n=a[k],o=String.fromCharCode(n);o in f||(f[o]=n);var p=j;j+=o,j in f||(g.push(f[p],e),
// GIF spec defines a maximum code value of 4095 (0xFFF)
4095>=d?(f[j]=d,d===1<<e&&e++,d++):(g.push(h,e),c(),f[o]=n),j=o)}return g.push(f[j],e),g.push(i,e),g.flush()}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){/**
     * Gif
     *
     * @class Gif
     * @constructor
     * @param {boolean} [options] skipDefault
     **/
function a(b){d(this,a),this.frameIndex1=0,this.frameIndex2=0,this.frames=[],b||(
// default values
this._version=j.GIF89a,this._width=1,this._height=1,this.colorResolution=112,// not supported
this.sortFlag=!1,// not supported
this.bgColorIndex=1,// ?
this.pixelAspectRatio=0,// not supported
this.globalColorTable=i.createColorTable([new i(0,0,0),new i(255,255,255)]))}/**
     * Parse Gif image from ArrayBuffer.
     *
     * @static
     * @method parse
     * @param {ArrayBuffer} buffer
     * @return {Gif} parsed gif object
     **/
return f(a,[{key:"versionName",value:function(){return j[this._version]}},{key:"writeToArrayBuffer",value:function(){return a.writeToArrayBuffer(this)}},{key:"writeToArray",/**
         * TODO
         **/
value:function(){var b=a.writeToArrayBuffer(this),c=[];return b.forEach(function(a){for(var b=0,d=a.byteLength;d>b;++b)c.push(a[b])}),c}},{key:"split",value:function(b){var c=this,d=[];return b?this.frames.forEach(function(b,f){var g=new a;if(g.version=c._version,g.width=c._width,g.height=c._height,g.colorResolution=c.colorResolution,// not supported
g.sortFlag=c.sortFlag,// not supported
g.bgColorIndex=c.bgColorIndex,g.pixelAspectRatio=c.pixelAspectRatio,// not supported
g.globalColorTable=c._globalColorTable,0!==f&&b.transparentFlag){void 0===b.pixelData&&b.decompress(),void 0===c.frames[f-1].pixelData&&c.frames[f-1].decompress();for(var h=!1,i=0,j=b.pixelData.length;j>i;++i)b.pixelData[i]===b.transparentColorIndex&&(b.pixelData[i]=c.frames[f-1].pixelData[i],h=!0);if(h){var k=e(b.pixelData,b.lzwCode);b.compressedData=new Uint8Array(k)}delete b.pixelData}g.frames=[b],d.push(g)}):this.frames.forEach(function(b){var e=new a;e.version=c._version,e.width=c._width,e.height=c._height,e.colorResolution=c.colorResolution,// not supported
e.sortFlag=c.sortFlag,// not supported
e.bgColorIndex=c.bgColorIndex,e.pixelAspectRatio=c.pixelAspectRatio,// not supported
e.globalColorTable=c._globalColorTable,e.frames=[b],d.push(e)}),d}},{key:"playback",value:function(b){var c=this,d=new a;// not supported
// not supported
// not supported
return b&&this.frames.forEach(function(a,b){if(0!==b&&a.transparentFlag){void 0===a.pixelData&&a.decompress(),void 0===c.frames[b-1].pixelData&&c.frames[b-1].decompress();for(var d=!1,f=0,g=a.pixelData.length;g>f;++f)a.pixelData[f]===a.transparentColorIndex&&(a.pixelData[f]=c.frames[b-1].pixelData[f],d=!0);if(d){var h=e(a.pixelData,a.lzwCode);a.compressedData=new Uint8Array(h)}delete a.pixelData}}),d.version=this._version,d.width=this._width,d.height=this._height,d.colorResolution=this.colorResolution,d.sortFlag=this.sortFlag,d.bgColorIndex=this.bgColorIndex,d.pixelAspectRatio=this.pixelAspectRatio,d.globalColorTable=this._globalColorTable,d.frames=this.frames.reverse(),d.isLoop=this.isLoop,d.loopCount=this._loopCount,d}},{key:"version",get:function(){return this._version},set:function(a){this._version=a}},{key:"width",get:function(){return this._width},set:function(a){if(a=~~a,a>65535||0>a)throw new RangeError("width range error: "+a);this._width=a}},{key:"height",get:function(){return this._height},set:function(a){if(a=~~a,a>65535||0>a)throw new RangeError("height range error: "+a);this._height=a}},{key:"globalColorTable",get:function(){return this._globalColorTable},set:function(a){this._globalColorTable=a,this._globalTableSize=a.byteLength/3,void 0===this.bgColorIndex&&(this.bgColorIndex=this._globalTableSize-1)}},{key:"globalTableSize",get:function(){return this._globalTableSize}},{key:"loopCount",get:function(){return this._loopCount},set:function(a){if(a=~~a,a>65535||0>a)throw new RangeError("loopCount range error: "+a);this._loopCount=a}}],[{key:"parse",value:function(b){for(var c=new a(!0),d=new DataView(b),e=k.readHeader(c,d);;)if(e=k.readBlock(c,d,e),-1===e)break;return c}},{key:"writeToArrayBuffer",value:function(a){var b=[],c=new DataView(new ArrayBuffer(13));c.setUint8(0,71),// G
c.setUint8(1,73),// I
c.setUint8(2,70),// F
c.setUint8(3,56),// 8
a.version===j.GIF89a?c.setUint8(4,57):c.setUint8(4,55),c.setUint8(5,97),// a
c.setUint16(6,a.width,!0),c.setUint16(8,a.height,!0);var d=0,f=a.globalTableSize;if(f>0){d|=128;var g=0;do f>>=1,++g;while(f>1);d|=g-1}
// write extension
if(d|=a.colorResolution,a.sortFlag&&(d|=8),c.setUint8(10,d),c.setUint8(11,a.bgColorIndex),c.setUint8(12,a.pixelAspectRatio),b.push(new Uint8Array(c.buffer)),a.globalTableSize>0&&b.push(a.globalColorTable),a.isLoop){var h=new DataView(new ArrayBuffer(19));h.setUint8(0,33),h.setUint8(1,255),h.setUint8(2,11),h.setUint8(3,78),// N
h.setUint8(4,69),// E
h.setUint8(5,84),// T
h.setUint8(6,83),// S
h.setUint8(7,67),// C
h.setUint8(8,65),// A
h.setUint8(9,80),// P
h.setUint8(10,69),// E
h.setUint8(11,50),// 2
h.setUint8(12,46),// .
h.setUint8(13,48),// 0
h.setUint8(14,3),h.setUint8(15,1),h.setUint16(16,a.loopCount,!0),h.setUint8(18,0),b.push(new Uint8Array(h.buffer))}// trailer
// write image data
return a.frames.forEach(function(a){var c=new DataView(new ArrayBuffer(18));if(c.setUint8(0,33),c.setUint8(1,249),c.setUint8(2,4),a.transparentFlag?c.setUint8(3,1):c.setUint8(3,0),c.setUint16(4,a.delayCentiSeconds,!0),c.setUint8(6,a.transparentColorIndex),c.setUint8(7,0),c.setUint8(8,44),c.setUint16(9,a.x,!0),c.setUint16(11,a.y,!0),c.setUint16(13,a.width,!0),c.setUint16(15,a.height,!0),a.localTableSize>0){var d=0,f=a.localTableSize;do f>>=1,++d;while(f>1);c.setUint8(17,128|d-1)}else c.setUint8(17,0);if(b.push(new Uint8Array(c.buffer)),a.localTableSize>0&&b.push(a.localColorTable),b.push(new Uint8Array([a.lzwCode])),void 0===a.compressedData&&void 0===a.pixelData)throw new Error("no image data");var g=0,h=a.compressedData;h=h instanceof Array?new Uint8Array(h):h||new Uint8Array(e(a.pixelData,a.lzwCode));for(var i=h.length;;){if(!(i>g+255)){var j=h.subarray(g);b.push(new Uint8Array([j.byteLength])),b.push(j);break}b.push(new Uint8Array([255])),b.push(h.subarray(g,g+255)),g+=255}b.push(new Uint8Array([0]))}),b.push(new Uint8Array([59])),b}}]),a}();c.Gif=g;var h=function(){/**
     * GifFrame
     *
     * @class GifFrame
     * @constructor
     **/
function a(){d(this,a)}return f(a,[{key:"decompress",value:function(){this.pixelData=l(this.lzwCode,this.compressedData,this.width*this.height)}}],[{key:"init",value:function(b,c){var d=new a;// ?
return d.transparentFlag=!1,d.delayCentiSeconds=0,d.transparentColorIndex=0,d.x=0,d.y=0,d.width=b||1,d.height=c||1,d.localTableSize=0,d.lzwCode=4,d.pixelData=new Uint8Array(d.width*d.height),d}}]),a}();c.GifFrame=h;var i=function(){/**
     * GifColor
     *
     * @class GifColor
     * @constructor
     * @param {number} r
     * @param {number} g
     * @param {number} b
     **/
function a(b,c,e){d(this,a),this.r=b,this.g=c,this.b=e}return f(a,null,[{key:"valueOf",value:function(a){}},{key:"createColorTable",value:function(b){for(var c=[],d=1;8>=d;++d)for(var e=(d<<1)-b.length,f=0;e>f;++f)b.push(new a(255,255,255));return b.forEach(function(a){c.push(a.r),c.push(a.g),c.push(a.b)}),new Uint8Array(c)}}]),a}();c.GifColor=i;var j;c.GifVersion=j,function(a){a[a.GIF89a=0]="GIF89a",a[a.GIF87a=1]="GIF87a"}(j||(c.GifVersion=j={}));var k=function(){function a(){d(this,a)}/*
     ===begin jsgif===
     */
return f(a,null,[{key:"readHeader",value:function(a,b){a.version=j[String.fromCharCode(b.getUint8(0),b.getUint8(1),b.getUint8(2),b.getUint8(3),b.getUint8(4),b.getUint8(5))],a.width=b.getUint16(6,!0),a.height=b.getUint16(8,!0);var c,d=b.getUint8(10),e=128&d;return c=128!==e?0:1<<(7&d)+1,a.colorResolution=112&d,a.sortFlag=8===(8&d),a.bgColorIndex=b.getUint8(11),a.pixelAspectRatio=b.getUint8(12),128!==e?13:(a.globalColorTable=new Uint8Array(b.buffer,13,3*c),13+3*c)}},{key:"readBlock",value:function(a,b,c){var d=b.getUint8(c);if(59===d)return-1;if(33===d){
// Extension block
var e=b.getUint8(c+1);if(249===e)return void 0===a.frames[a.frameIndex1]?(f=new h,c=this.readGraphicControlExtensionBlock(f,b,c),a.frames.push(f)):(f=a.frames[a.frameIndex1],c=this.readGraphicControlExtensionBlock(f,b,c)),a.frameIndex1+=1,c;if(254===e)return c=this.readCommentExtensionBlock(a,b,c);if(255===e)return c=this.readApplicationExtensionBlock(a,b,c);if(1===e)return c=this.readPlainTextExtensionBlock(a,b,c)}if(44===d){var f;return void 0===a.frames[a.frameIndex2]?(f=new h,c=this.readImageBlock(f,b,c),a.frames.push(f)):(f=a.frames[a.frameIndex2],c=this.readImageBlock(f,b,c)),a.frameIndex2+=1,c}return-1}},{key:"readImageBlock",value:function(a,b,c){a.x=b.getUint16(++c,!0),c+=2,a.y=b.getUint16(c,!0),c+=2,a.width=b.getUint16(c,!0),c+=2,a.height=b.getUint16(c,!0),c+=2;var d=b.getUint8(c++),e=128&d;128===e?(a.localTableSize=1<<(7&d)+1,a.localColorTable=new Uint8Array(b.buffer,c,3*a.localTableSize),c+=3*a.localTableSize):a.localTableSize=0,a.lzwCode=b.getUint8(c++);for(var f=new Array,g=0;;){var h=b.getUint8(c++);if(g+=h,0===h)break;f.push(new Uint8Array(b.buffer.slice(c,c+h))),c+=h}var i=new Uint8Array(g);i.set(f[0],0);for(var j=f[0].byteLength,k=1,l=f.length;l>k;++k)i.set(f[k],j),j+=f[k].byteLength;return a.compressedData=i,c}},{key:"readApplicationExtensionBlock",value:function(a,b,c){if(c+=2,11!==b.getUint8(c++))throw new Error("faild: _readApplicationExtensionBlock");var d=String.fromCharCode(b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++),b.getUint8(c++));if("NETSCAPE2.0"===d){if(a.isLoop=!0,3!==b.getUint8(c++))throw new Error("faild: _readApplicationExtensionBlock (NETSCAPE2.0)");++c,a.loopCount=b.getUint16(c,!0),c+=2}for(;;){var e=b.getUint8(c++);if(0===e)break;c+=e}return c}},{key:"readCommentExtensionBlock",value:function(a,b,c){for(
// skip
c+=2;;){var d=b.getUint8(c++);if(0===d)break;c+=d}return c}},{key:"readGraphicControlExtensionBlock",value:function(a,b,c){var d=b.getUint8(c+3);return a.transparentFlag=1===(1&d),a.delayCentiSeconds=b.getUint16(c+4,!0),a.transparentColorIndex=b.getUint8(c+6),c+8}},{key:"readPlainTextExtensionBlock",value:function(a,b,c){for(
// skip
c+=2;;){var d=b.getUint8(c++);if(0===d)break;c+=d}return c}}]),a}();c.GifParser=k;var l=function(a,b,c){for(var d,e,f=0,g=function(a){for(var c=0,d=0;a>d;++d)b[f>>3]&1<<(7&f)&&(c|=1<<d),++f;return c},h=new Uint8Array(c),i=1<<a,j=i+1,k=a+1,l=[],m=function(){l=[],k=a+1;for(var b=0;i>b;++b)l[b]=[b];l[i]=[],l[j]=null},n=0;;)if(e=d,d=g(k),d!==i){if(d===j)break;if(d<l.length)e!==i&&l.push(l[e].concat(l[d][0]));else{if(d!==l.length)throw new Error("Invalid LZW code.");l.push(l[e].concat(l[e][0]))}h.set(l[d],n),n+=l[d].length,l.length===1<<k&&12>k&&
// If we're at the last code and codeSize is 12, the next code will be a clearCode, and it'll be 12 bits long.
k++}else m();return h},m=function(){function a(){d(this,a),this.__out=[],this.__remNumBits=0,this.__remVal=0}return f(a,[{key:"push",value:function(a,b){for(;b>0;)this.__remVal=(a<<this.__remNumBits&255)+this.__remVal,b+this.__remNumBits>=8?(this.__out.push(this.__remVal),b-=8-this.__remNumBits,a>>=8-this.__remNumBits,this.__remVal=0,this.__remNumBits=0):(this.__remNumBits=b+this.__remNumBits,b=0)}},{key:"flush",value:function(){this.push(0,8),this.__remNumBits=0,this.__remVal=0;var a=this.__out;return this.__out=[],a}}]),a}()},{}]},{},[1]);